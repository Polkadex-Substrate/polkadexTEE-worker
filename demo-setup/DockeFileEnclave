FROM scssubstratee/substratee_dev:1804-2.12-1.1.3-001
RUN apt-get install -y git && apt-get install -y curl
RUN git clone https://github.com/Polkadex-Substrate/polkadexTEE-worker.git
RUN cd polkadexTEE-worker && \
    git checkout develop && \
    ./ci/install_rust.sh && \
    SGX_MODE=SW make
EXPOSE 2094 9994
CMD ./polkadexTEE-worker/bin/substratee-worker -P 2094 -p 9994 run